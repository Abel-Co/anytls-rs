âœ  tests git:(main) âœ— ./test_lockfree_performance.sh
âš¡ AnyTLS æ— é”è¿æ¥æ± æ€§èƒ½æµ‹è¯•
================================

ğŸ“¦ ç¼–è¯‘é¡¹ç›®...

ğŸ§ª å¼€å§‹æ€§èƒ½å¯¹æ¯”æµ‹è¯•...

ğŸ”’ æµ‹è¯•åŸå§‹é”ç‰ˆæœ¬
ğŸ”§ æµ‹è¯• åŸå§‹é”ç‰ˆæœ¬ (ç±»å‹: lock)
----------------------------------------
âœ… Server å·²å¯åŠ¨ (PID: 66862, ç±»å‹: lock)
âœ… Client å·²å¯åŠ¨ (PID: 66869)
ğŸš€ å¼€å§‹æ€§èƒ½æµ‹è¯•...
  ğŸ“Š ç¬¬ä¸€è½®ï¼šå»ºç«‹æ–°è¿æ¥
  ğŸ”— [1.1] HTTPBin GET
    âœ… æˆåŠŸ (Duration: 0 ms)
  ğŸ”— [1.2] HTTPBin IP
    âœ… æˆåŠŸ (Duration: 10 ms)
  ğŸ”— [1.3] HTTPBin User-Agent
    âœ… æˆåŠŸ (Duration: 0 ms)
  ğŸ“Š ç¬¬äºŒè½®ï¼šè¿æ¥é‡ç”¨
  ğŸ”— [2.1] HTTPBin GET
    âœ… æˆåŠŸ (Duration: 10 ms)
  ğŸ”— [2.2] HTTPBin IP
    âœ… æˆåŠŸ (Duration: 0 ms)
  ğŸ”— [2.3] HTTPBin User-Agent
    âœ… æˆåŠŸ (Duration: 10 ms)
  ğŸ“Š ç¬¬ä¸‰è½®ï¼šå¹¶å‘è¿æ¥
  ğŸ”— [3.1] å¹¶å‘æµ‹è¯• 1
  ğŸ”— [3.2] å¹¶å‘æµ‹è¯• 2
  ğŸ”— [3.3] å¹¶å‘æµ‹è¯• 3
  ğŸ”— [3.4] å¹¶å‘æµ‹è¯• 4
  ğŸ”— [3.5] å¹¶å‘æµ‹è¯• 5
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 20 ms)
  ğŸ“Š ç¬¬å››è½®ï¼šå‹åŠ›æµ‹è¯•
  ğŸ”— [4.1] å‹åŠ›æµ‹è¯• 1
  ğŸ”— [4.2] å‹åŠ›æµ‹è¯• 2
  ğŸ”— [4.3] å‹åŠ›æµ‹è¯• 3
  ğŸ”— [4.4] å‹åŠ›æµ‹è¯• 4
  ğŸ”— [4.5] å‹åŠ›æµ‹è¯• 5
  ğŸ”— [4.6] å‹åŠ›æµ‹è¯• 6
  ğŸ”— [4.7] å‹åŠ›æµ‹è¯• 7
  ğŸ”— [4.8] å‹åŠ›æµ‹è¯• 8
  ğŸ”— [4.9] å‹åŠ›æµ‹è¯• 9
  ğŸ”— [4.10] å‹åŠ›æµ‹è¯• 10
    âœ… æˆåŠŸ (Duration: 20 ms)
    âœ… æˆåŠŸ (Duration: 20 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
  âœ… åŸå§‹é”ç‰ˆæœ¬ æµ‹è¯•å®Œæˆ

ğŸ›‘ åœæ­¢æœåŠ¡...
./test_lockfree_performance.sh: line 58: 66862 Terminated: 15          RUST_LOG=warn $binaries_path/anytls-server --listen 0.0.0.0:8443 --password "test123" --max-outbound-connections 50 --max-idle-time-secs 60 --min-idle-connections 3 --pool-type "$pool_type"
./test_lockfree_performance.sh: line 58: 66869 Terminated: 15          RUST_LOG=warn $binaries_path/anytls-client-optimized --listen 127.0.0.1:1080 --server 127.0.0.1:8443 --password "test123"
----------------------------------------

âš¡ æµ‹è¯•æ— é”ç‰ˆæœ¬
ğŸ”§ æµ‹è¯• æ— é”ç‰ˆæœ¬ (ç±»å‹: lockfree)
----------------------------------------
âœ… Server å·²å¯åŠ¨ (PID: 67068, ç±»å‹: lockfree)
âœ… Client å·²å¯åŠ¨ (PID: 67070)
ğŸš€ å¼€å§‹æ€§èƒ½æµ‹è¯•...
  ğŸ“Š ç¬¬ä¸€è½®ï¼šå»ºç«‹æ–°è¿æ¥
  ğŸ”— [1.1] HTTPBin GET
    âœ… æˆåŠŸ (Duration: 10 ms)
  ğŸ”— [1.2] HTTPBin IP
    âœ… æˆåŠŸ (Duration: 0 ms)
  ğŸ”— [1.3] HTTPBin User-Agent
    âœ… æˆåŠŸ (Duration: 20 ms)
  ğŸ“Š ç¬¬äºŒè½®ï¼šè¿æ¥é‡ç”¨
  ğŸ”— [2.1] HTTPBin GET
    âœ… æˆåŠŸ (Duration: 0 ms)
  ğŸ”— [2.2] HTTPBin IP
    âœ… æˆåŠŸ (Duration: 10 ms)
  ğŸ”— [2.3] HTTPBin User-Agent
    âœ… æˆåŠŸ (Duration: 0 ms)
  ğŸ“Š ç¬¬ä¸‰è½®ï¼šå¹¶å‘è¿æ¥
  ğŸ”— [3.1] å¹¶å‘æµ‹è¯• 1
  ğŸ”— [3.2] å¹¶å‘æµ‹è¯• 2
  ğŸ”— [3.3] å¹¶å‘æµ‹è¯• 3
  ğŸ”— [3.4] å¹¶å‘æµ‹è¯• 4
  ğŸ”— [3.5] å¹¶å‘æµ‹è¯• 5
    âœ… æˆåŠŸ (Duration: 20 ms)
    âœ… æˆåŠŸ (Duration: 20 ms)
    âœ… æˆåŠŸ (Duration: 20 ms)
    âœ… æˆåŠŸ (Duration: 20 ms)
    âœ… æˆåŠŸ (Duration: 20 ms)
  ğŸ“Š ç¬¬å››è½®ï¼šå‹åŠ›æµ‹è¯•
  ğŸ”— [4.1] å‹åŠ›æµ‹è¯• 1
  ğŸ”— [4.2] å‹åŠ›æµ‹è¯• 2
  ğŸ”— [4.3] å‹åŠ›æµ‹è¯• 3
  ğŸ”— [4.4] å‹åŠ›æµ‹è¯• 4
  ğŸ”— [4.5] å‹åŠ›æµ‹è¯• 5
  ğŸ”— [4.6] å‹åŠ›æµ‹è¯• 6
  ğŸ”— [4.7] å‹åŠ›æµ‹è¯• 7
  ğŸ”— [4.8] å‹åŠ›æµ‹è¯• 8
  ğŸ”— [4.9] å‹åŠ›æµ‹è¯• 9
  ğŸ”— [4.10] å‹åŠ›æµ‹è¯• 10
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
  âœ… æ— é”ç‰ˆæœ¬ æµ‹è¯•å®Œæˆ

ğŸ›‘ åœæ­¢æœåŠ¡...
./test_lockfree_performance.sh: line 58: 67068 Terminated: 15          RUST_LOG=warn $binaries_path/anytls-server --listen 0.0.0.0:8443 --password "test123" --max-outbound-connections 50 --max-idle-time-secs 60 --min-idle-connections 3 --pool-type "$pool_type"
./test_lockfree_performance.sh: line 58: 67070 Terminated: 15          RUST_LOG=warn $binaries_path/anytls-client-optimized --listen 127.0.0.1:1080 --server 127.0.0.1:8443 --password "test123"
----------------------------------------

ğŸš€ æµ‹è¯•é«˜æ€§èƒ½ç‰ˆæœ¬
ğŸ”§ æµ‹è¯• é«˜æ€§èƒ½ç‰ˆæœ¬ (ç±»å‹: highperf)
----------------------------------------
âœ… Server å·²å¯åŠ¨ (PID: 67264, ç±»å‹: highperf)
âœ… Client å·²å¯åŠ¨ (PID: 67266)
ğŸš€ å¼€å§‹æ€§èƒ½æµ‹è¯•...
  ğŸ“Š ç¬¬ä¸€è½®ï¼šå»ºç«‹æ–°è¿æ¥
  ğŸ”— [1.1] HTTPBin GET
    âœ… æˆåŠŸ (Duration: 10 ms)
  ğŸ”— [1.2] HTTPBin IP
    âœ… æˆåŠŸ (Duration: 0 ms)
  ğŸ”— [1.3] HTTPBin User-Agent
    âœ… æˆåŠŸ (Duration: 10 ms)
  ğŸ“Š ç¬¬äºŒè½®ï¼šè¿æ¥é‡ç”¨
  ğŸ”— [2.1] HTTPBin GET
    âœ… æˆåŠŸ (Duration: 10 ms)
  ğŸ”— [2.2] HTTPBin IP
    âœ… æˆåŠŸ (Duration: 0 ms)
  ğŸ”— [2.3] HTTPBin User-Agent
    âœ… æˆåŠŸ (Duration: 10 ms)
  ğŸ“Š ç¬¬ä¸‰è½®ï¼šå¹¶å‘è¿æ¥
  ğŸ”— [3.1] å¹¶å‘æµ‹è¯• 1
  ğŸ”— [3.2] å¹¶å‘æµ‹è¯• 2
  ğŸ”— [3.3] å¹¶å‘æµ‹è¯• 3
  ğŸ”— [3.4] å¹¶å‘æµ‹è¯• 4
  ğŸ”— [3.5] å¹¶å‘æµ‹è¯• 5
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 20 ms)
  ğŸ“Š ç¬¬å››è½®ï¼šå‹åŠ›æµ‹è¯•
  ğŸ”— [4.1] å‹åŠ›æµ‹è¯• 1
  ğŸ”— [4.2] å‹åŠ›æµ‹è¯• 2
  ğŸ”— [4.3] å‹åŠ›æµ‹è¯• 3
  ğŸ”— [4.4] å‹åŠ›æµ‹è¯• 4
  ğŸ”— [4.5] å‹åŠ›æµ‹è¯• 5
  ğŸ”— [4.6] å‹åŠ›æµ‹è¯• 6
  ğŸ”— [4.7] å‹åŠ›æµ‹è¯• 7
  ğŸ”— [4.8] å‹åŠ›æµ‹è¯• 8
  ğŸ”— [4.9] å‹åŠ›æµ‹è¯• 9
  ğŸ”— [4.10] å‹åŠ›æµ‹è¯• 10
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 0 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
    âœ… æˆåŠŸ (Duration: 10 ms)
  âœ… é«˜æ€§èƒ½ç‰ˆæœ¬ æµ‹è¯•å®Œæˆ

ğŸ›‘ åœæ­¢æœåŠ¡...
./test_lockfree_performance.sh: line 58: 67264 Terminated: 15          RUST_LOG=warn $binaries_path/anytls-server --listen 0.0.0.0:8443 --password "test123" --max-outbound-connections 50 --max-idle-time-secs 60 --min-idle-connections 3 --pool-type "$pool_type"
./test_lockfree_performance.sh: line 58: 67266 Terminated: 15          RUST_LOG=warn $binaries_path/anytls-client-optimized --listen 127.0.0.1:1080 --server 127.0.0.1:8443 --password "test123"
----------------------------------------

ğŸ“Š æµ‹è¯•å®Œæˆï¼

ğŸ’¡ è§‚å¯Ÿè¦ç‚¹ï¼š
  - è¿æ¥å»ºç«‹æ—¶é—´ï¼šç¬¬ä¸€è½®æµ‹è¯•
  - è¿æ¥é‡ç”¨æ•ˆæœï¼šç¬¬äºŒè½®æµ‹è¯•
  - å¹¶å‘å¤„ç†èƒ½åŠ›ï¼šç¬¬ä¸‰è½®æµ‹è¯•
  - å‹åŠ›æµ‹è¯•è¡¨ç°ï¼šç¬¬å››è½®æµ‹è¯•

ğŸ“ˆ æ€§èƒ½æå‡é¢„æœŸï¼š
  - æ— é”ç‰ˆæœ¬ï¼šå‡å°‘é”ç«äº‰ï¼Œæå‡å¹¶å‘æ€§èƒ½
  - é«˜æ€§èƒ½ç‰ˆæœ¬ï¼šè¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå‡å°‘å†…å­˜åˆ†é…

ğŸ” æŸ¥çœ‹ Server æ—¥å¿—ä¸­çš„è¿æ¥æ± ç»Ÿè®¡ä¿¡æ¯æ¥éªŒè¯æ•ˆæœ
âœ  tests git:(main) âœ—