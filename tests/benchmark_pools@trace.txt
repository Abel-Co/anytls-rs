running 1 test
🚀 连接池性能基准测试
========================

📊 测试配置:
  - 最大连接数: 100
  - 最大空闲时间: 60秒
  - 最小空闲连接: 5
  - 测试迭代次数: 1000
  - 并发任务数: 10
  - 测试目标数: 5

🔒 测试原始锁版本 (RwLock + Mutex)
  原始锁版本 结果:
    - 总操作数: 9908
    - 成功操作: 9816
    - 错误操作: 92
    - 成功率: 99.1%
    - 总时间: 1429474μs
    - 平均时间: 144μs
    - 最小时间: 30μs
    - 最大时间: 5056μs
    - 重用连接: 0
    - 新建连接: 0

⚡ 测试无锁版本 (DashMap + SegQueue)
  无锁版本 结果:
    - 总操作数: 9907
    - 成功操作: 9814
    - 错误操作: 93
    - 成功率: 99.1%
    - 总时间: 1413360μs
    - 平均时间: 142μs
    - 最小时间: 28μs
    - 最大时间: 1398μs
    - 重用连接: 0
    - 新建连接: 0

🚀 测试高性能版本 (优化无锁)
  高性能版本 结果:
    - 总操作数: 9890
    - 成功操作: 9780
    - 错误操作: 110
    - 成功率: 98.9%
    - 总时间: 1415858μs
    - 平均时间: 143μs
    - 最小时间: 30μs
    - 最大时间: 1385μs
    - 重用连接: 0
    - 新建连接: 0

📈 性能对比分析:
==================
平均响应时间:
  - 原始锁版本: 1429μs
  - 无锁版本: 1413μs
  - 高性能版本: 1415μs

性能提升:
  - 无锁版本: 1.1%
  - 高性能版本: 1.0%

连接重用统计:
  - 原始锁版本: 0/9908 (0.0%)
  - 无锁版本: 0/9907 (0.0%)
  - 高性能版本: 0/9890 (0.0%)
test benchmark_pools ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 4.26s